const ye=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const u of p.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerpolicy&&(p.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?p.credentials="include":s.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}};ye();function K(){}function fe(e){return e()}function ae(){return Object.create(null)}function G(e){e.forEach(fe)}function we(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function be(e){return Object.keys(e).length===0}function g(e,t){e.appendChild(t)}function V(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode.removeChild(e)}function _(e){return document.createElement(e)}function ce(e){return document.createTextNode(e)}function $(){return ce(" ")}function R(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function o(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return e===""?null:+e}function $e(e){return Array.from(e.childNodes)}function T(e,t){e.value=t==null?"":t}function U(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}let Y;function q(e){Y=e}function Ce(){if(!Y)throw new Error("Function called outside component initialization");return Y}function ke(e){Ce().$$.on_mount.push(e)}const W=[],z=[],ee=[],le=[],Ee=Promise.resolve();let re=!1;function Ie(){re||(re=!0,Ee.then(de))}function se(e){ee.push(e)}const ie=new Set;let x=0;function de(){const e=Y;do{for(;x<W.length;){const t=W[x];x++,q(t),Me(t.$$)}for(q(null),W.length=0,x=0;z.length;)z.pop()();for(let t=0;t<ee.length;t+=1){const n=ee[t];ie.has(n)||(ie.add(n),n())}ee.length=0}while(W.length);for(;le.length;)le.pop()();re=!1,ie.clear(),q(e)}function Me(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}const te=new Set;let Re;function pe(e,t){e&&e.i&&(te.delete(e),e.i(t))}function Oe(e,t,n,l){if(e&&e.o){if(te.has(e))return;te.add(e),Re.c.push(()=>{te.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const Se=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Le(e){e&&e.c()}function ge(e,t,n,l){const{fragment:s,on_mount:p,on_destroy:u,after_update:c}=e.$$;s&&s.m(t,n),l||se(()=>{const a=p.map(fe).filter(we);u?u.push(...a):G(a),e.$$.on_mount=[]}),c.forEach(se)}function me(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ae(e,t){e.$$.dirty[0]===-1&&(W.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,l,s,p,u,c=[-1]){const a=Y;q(e);const d=e.$$={fragment:null,ctx:null,props:p,update:K,not_equal:s,bound:ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ae(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};u&&u(d.root);let I=!1;if(d.ctx=n?n(e,t.props||{},(m,C,...k)=>{const O=k.length?k[0]:C;return d.ctx&&s(d.ctx[m],d.ctx[m]=O)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](O),I&&Ae(e,m)),C}):[],d.update(),I=!0,G(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const m=$e(t.target);d.fragment&&d.fragment.l(m),m.forEach(P)}else d.fragment&&d.fragment.c();t.intro&&pe(e.$$.fragment),ge(e,t.target,t.anchor,t.customElement),de()}q(a)}class _e{$destroy(){me(this,1),this.$destroy=K}$on(t,n){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:Pe}=Se;function oe(e){let t,n;return{c(){t=_("a"),n=ce("Image Download"),o(t,"target","_blank"),o(t,"class","download svelte-55mf99"),o(t,"download","image.png"),o(t,"href",e[6])},m(l,s){V(l,t,s),g(t,n)},p(l,s){s&64&&o(t,"href",l[6])},d(l){l&&P(t)}}}function He(e){let t,n,l,s,p,u,c,a,d,I,m,C,k,O,N,D,h,S,M,L,E,j,B,J,A,Q,X,H,F,Z,w=e[6]&&oe(e);return{c(){t=_("div"),n=_("canvas"),l=$(),s=_("canvas"),p=$(),u=_("canvas"),c=$(),a=_("div"),d=_("input"),I=$(),m=_("input"),C=$(),k=_("label"),k.textContent="HAIR",O=$(),N=_("br"),D=$(),h=_("input"),S=$(),M=_("div"),L=$(),E=_("label"),E.textContent="EYES",j=$(),B=_("br"),J=$(),A=_("p"),A.textContent="Image Refresh",Q=$(),w&&w.c(),X=$(),H=_("footer"),H.innerHTML='<p class="svelte-55mf99">Copyright 2022. redmen4772 All rights reserved<br class="svelte-55mf99"/>powered by redmen4772</p>',o(n,"width",e[4]),o(n,"height",e[4]),U(n,"margin","5vmin"),o(n,"class","svelte-55mf99"),o(s,"width","1024"),o(s,"height","1024"),U(s,"display","none"),o(s,"class","svelte-55mf99"),o(u,"width","1024"),o(u,"height","1024"),U(u,"display","none"),o(u,"class","svelte-55mf99"),o(d,"class","input1 svelte-55mf99"),o(d,"id","hair"),o(d,"name","hair"),o(d,"type","color"),o(m,"class","input2 svelte-55mf99"),o(m,"type","text"),o(k,"for","hair"),o(k,"class","svelte-55mf99"),o(N,"class","svelte-55mf99"),o(h,"class","input3 svelte-55mf99"),o(h,"type","range"),o(h,"id","eyes"),o(h,"name","eyes"),o(h,"min","0"),o(h,"max","1530"),o(M,"class","cView1 svelte-55mf99"),U(M,"background-color",e[13](e[11](e[5])[0],e[11](e[5])[1],e[11](e[5])[2])),o(E,"for","eyes"),o(E,"class","svelte-55mf99"),o(B,"class","svelte-55mf99"),o(A,"class","refrish svelte-55mf99"),o(a,"class","conturl svelte-55mf99"),o(H,"class","svelte-55mf99"),o(t,"class","display svelte-55mf99")},m(i,f){V(i,t,f),g(t,n),e[14](n),g(t,l),g(t,s),e[15](s),g(t,p),g(t,u),e[16](u),g(t,c),g(t,a),g(a,d),T(d,e[0]),g(a,I),g(a,m),T(m,e[0]),g(a,C),g(a,k),g(a,O),g(a,N),g(a,D),g(a,h),T(h,e[5]),g(a,S),g(a,M),g(a,L),g(a,E),g(a,j),g(a,B),g(a,J),g(a,A),g(a,Q),w&&w.m(a,null),g(t,X),g(t,H),F||(Z=[R(Pe,"resize",e[8]),R(d,"input",e[17]),R(d,"change",e[18]),R(m,"input",e[19]),R(m,"keyup",e[20]),R(h,"change",e[21]),R(h,"input",e[21]),R(h,"change",e[22]),R(A,"click",e[8])],F=!0)},p(i,[f]){f&16&&o(n,"width",i[4]),f&16&&o(n,"height",i[4]),f&1&&T(d,i[0]),f&1&&m.value!==i[0]&&T(m,i[0]),f&32&&T(h,i[5]),f&32&&U(M,"background-color",i[13](i[11](i[5])[0],i[11](i[5])[1],i[11](i[5])[2])),i[6]?w?w.p(i,f):(w=oe(i),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},i:K,o:K,d(i){i&&P(t),e[14](null),e[15](null),e[16](null),w&&w.d(),F=!1,G(Z)}}}function Te(e,t,n){let l,s,p,u,c="#FF0000",a=0,d,I,m="";ke(async()=>{await k()});const C=async()=>{n(6,m=""),d=L(a),I=E(c);let i=l.getContext("2d");i.clearRect(0,0,1024,1024),await N(i,1024,"#000000"),await h(i,1024,I),await S(i,1024,d,!0),await M(i,1024,"./base.png"),n(6,m=l.toDataURL("image/png").replace("image/png","application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=image.png"))},k=async()=>{n(6,m=""),d=L(a),I=E(c),O();let i=s.getContext("2d");i.clearRect(0,0,u,u),await M(i,u,"./base.png"),await h(i,u,I),await S(i,u,d,!1),await C()},O=async()=>{n(4,u=window.innerHeight<window.innerWidth?window.innerHeight*.5:window.innerWidth*.9)},N=async(i,f,r)=>new Promise(b=>{i.fillStyle=r,i.fillRect(0,0,f,f),b()}),D=async(i,f,r,b,y)=>{if(b!=8){let v=p.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,1024,1024);let ne=new Image;ne.src=f[b].image,ne.onload=async()=>{v.drawImage(ne,0,0,1024,1024),v.globalCompositeOperation="source-in",v.fillStyle=f[b].color,v.fillRect(0,0,1024,1024),await M(i,r,p.toDataURL("image/png")),D(i,f,r,b+1,y)}}else y()},h=(i,f,r)=>new Promise(b=>{let y=p.getContext("2d");y.clearRect(0,0,1024,1024),y.globalCompositeOperation="source-over";let v=new Image;v.src="./hair.png",v.onload=async()=>{y.drawImage(v,0,0,1024,1024),y.globalCompositeOperation="source-in",y.fillStyle=j(r[0],r[1],r[2]),y.fillRect(0,0,1024,1024),await M(i,f,p.toDataURL("image/png")),b()}}),S=async(i,f,r,b)=>new Promise(async y=>{let v=[{image:"./base.png",color:"rgba(0,0,0,0)"},{image:"./eye_t.png",color:`rgba(${r[0]!=0?.35294117647058826*r[0]:0},${r[1]!=0?.35294117647058826*r[1]:0},${r[2]!=0?.35294117647058826*r[2]:0})`},{image:"./eye_b.png",color:`rgba(${r[0]!=0?r[0]-40:0},${r[1]!=0?r[1]-40:0},${r[2]!=0?r[2]-40:0})`},{image:"./eye_vd.png",color:`rgba(${r[0]!=0?.35294117647058826*r[0]:0},${r[1]!=0?.35294117647058826*r[1]:0},${r[2]!=0?.35294117647058826*r[2]:0})`},{image:"./eye_d.png",color:`rgba(${r[0]!=0?r[0]-40:0},${r[1]!=0?r[1]-40:0},${r[2]!=0?r[2]-40:0})`},{image:"./eye_l.png",color:`rgba(${r[0]!=255?Math.floor(.4785714285714286*r[0]+130):255},${r[1]!=255?Math.floor(.4785714285714286*r[1]+130):255},${r[2]!=255?Math.floor(.4785714285714286*r[2]+130):255})`},{image:"./eye_h.png",color:`rgba(${r[0]!=255?Math.floor(.15*r[0]+219):255},${r[1]!=255?Math.floor(.15*r[1]+219):255},${r[2]!=255?Math.floor(.15*r[2]+219):255})`},{image:"./eye_lh.png",color:`rgba(${r[0]!=255?Math.floor(.25*r[0]+196):255},${r[1]!=255?Math.floor(.25*r[1]+196):255},${r[2]!=255?Math.floor(.25*r[2]+196):255})`}];await D(i,v,f,b?0:3,y)}),M=(i,f,r)=>new Promise(b=>{i.globalCompositeOperation="source-over";let y=new Image;y.src=r,y.onload=()=>{i.drawImage(y,0,0,f,f),b()}}),L=i=>{let f=[[255,0,0,2],[255,0,255,0],[0,0,255,1],[0,255,255,2],[0,255,0,0],[255,255,0,1],[255,0,0,2]][Math.floor(i/255)];return f[f[3]]+=f[f[3]]?-(i%255):i%255,f.slice(0,3)},E=i=>{let f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return f?[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]:[0,0,0]},j=(i,f,r)=>{const b=y=>{let v=y.toString(16);return v.length==1?"0"+v:v};return"#"+b(i)+b(f)+b(r)};function B(i){z[i?"unshift":"push"](()=>{s=i,n(2,s)})}function J(i){z[i?"unshift":"push"](()=>{l=i,n(1,l)})}function A(i){z[i?"unshift":"push"](()=>{p=i,n(3,p)})}function Q(){c=this.value,n(0,c)}const X=()=>{h(s.getContext("2d"),u,E(c)),C()};function H(){c=this.value,n(0,c)}const F=()=>{h(s.getContext("2d"),u,E(c)),C()};function Z(){a=ve(this.value),n(5,a)}const w=()=>{S(s.getContext("2d"),u,L(a),!1),C()};return e.$$.update=()=>{e.$$.dirty&1&&n(0,c=c.startsWith("#")?c.slice(0,7):"#")},[c,l,s,p,u,a,m,C,k,h,S,L,E,j,B,J,A,Q,X,H,F,Z,w]}class Ne extends _e{constructor(t){super(),he(this,t,Te,He,ue,{})}}function De(e){let t,n,l,s,p,u;return t=new Ne({}),{c(){Le(t.$$.fragment),n=$(),l=_("div"),s=$(),p=_("style"),p.textContent=`*{
        margin: 0;
        padding: 0;
    }`},m(c,a){ge(t,c,a),V(c,n,a),V(c,l,a),V(c,s,a),g(document.head,p),u=!0},p:K,i(c){u||(pe(t.$$.fragment,c),u=!0)},o(c){Oe(t.$$.fragment,c),u=!1},d(c){me(t,c),c&&P(n),c&&P(l),c&&P(s),P(p)}}}class je extends _e{constructor(t){super(),he(this,t,null,De,ue,{})}}new je({target:document.getElementById("app")});
