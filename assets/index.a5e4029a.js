const we=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerpolicy&&(p.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?p.credentials="include":s.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}};we();function Y(){}function ce(e){return e()}function oe(){return Object.create(null)}function J(e){e.forEach(ce)}function be(e){return typeof e=="function"}function pe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function $e(e){return Object.keys(e).length===0}function d(e,t){e.appendChild(t)}function z(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode.removeChild(e)}function _(e){return document.createElement(e)}function de(e){return document.createTextNode(e)}function C(){return de(" ")}function S(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function o(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ce(e){return e===""?null:+e}function ke(e){return Array.from(e.childNodes)}function B(e,t){e.value=t==null?"":t}function V(e,t,n,a){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,a?"important":"")}let G;function K(e){G=e}function Ee(){if(!G)throw new Error("Function called outside component initialization");return G}function Ie(e){Ee().$$.on_mount.push(e)}const q=[],F=[],ne=[],fe=[],Me=Promise.resolve();let le=!1;function Re(){le||(le=!0,Me.then(ge))}function ae(e){ne.push(e)}const re=new Set;let te=0;function ge(){const e=G;do{for(;te<q.length;){const t=q[te];te++,K(t),Oe(t.$$)}for(K(null),q.length=0,te=0;F.length;)F.pop()();for(let t=0;t<ne.length;t+=1){const n=ne[t];re.has(n)||(re.add(n),n())}ne.length=0}while(q.length);for(;fe.length;)fe.pop()();le=!1,re.clear(),K(e)}function Oe(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}const ie=new Set;let Se;function he(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function Le(e,t,n,a){if(e&&e.o){if(ie.has(e))return;ie.add(e),Se.c.push(()=>{ie.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}else a&&a()}function Ae(e){e&&e.c()}function me(e,t,n,a){const{fragment:s,on_mount:p,on_destroy:f,after_update:u}=e.$$;s&&s.m(t,n),a||ae(()=>{const r=p.map(ce).filter(be);f?f.push(...r):J(r),e.$$.on_mount=[]}),u.forEach(ae)}function _e(e,t){const n=e.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pe(e,t){e.$$.dirty[0]===-1&&(q.push(e),Re(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ye(e,t,n,a,s,p,f,u=[-1]){const r=G;K(e);const c=e.$$={fragment:null,ctx:null,props:p,update:Y,not_equal:s,bound:oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:oe(),dirty:u,skip_bound:!1,root:t.target||r.$$.root};f&&f(c.root);let M=!1;if(c.ctx=n?n(e,t.props||{},(h,E,...k)=>{const L=k.length?k[0]:E;return c.ctx&&s(c.ctx[h],c.ctx[h]=L)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](L),M&&Pe(e,h)),E}):[],c.update(),M=!0,J(c.before_update),c.fragment=a?a(c.ctx):!1,t.target){if(t.hydrate){const h=ke(t.target);c.fragment&&c.fragment.l(h),h.forEach(T)}else c.fragment&&c.fragment.c();t.intro&&he(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),ge()}K(r)}class ve{$destroy(){_e(this,1),this.$destroy=Y}$on(t,n){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(n),()=>{const s=a.indexOf(n);s!==-1&&a.splice(s,1)}}$set(t){this.$$set&&!$e(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ue(e){let t,n;return{c(){t=_("a"),n=de("Image Download"),o(t,"target","_blank"),o(t,"class","download svelte-1fp2vc4"),o(t,"download","image.png"),o(t,"href",e[6])},m(a,s){z(a,t,s),d(t,n)},p(a,s){s[0]&64&&o(t,"href",a[6])},d(a){a&&T(t)}}}function He(e){let t,n,a,s,p,f,u,r,c,M,h,E,k,L,U,Q,v,A,R,H,O,P,D,X,N,Z,x,j,W,ee,w=e[6]&&ue(e);return{c(){t=_("div"),n=_("canvas"),a=C(),s=_("canvas"),p=C(),f=_("canvas"),u=C(),r=_("div"),c=_("input"),M=C(),h=_("input"),E=C(),k=_("label"),k.textContent="HAIR",L=C(),U=_("br"),Q=C(),v=_("input"),A=C(),R=_("div"),H=C(),O=_("label"),O.textContent="EYES",P=C(),D=_("br"),X=C(),N=_("p"),N.textContent="Image Refresh",Z=C(),w&&w.c(),x=C(),j=_("footer"),j.innerHTML='<p class="svelte-1fp2vc4">Copyright 2022. redmen4772 All rights reserved<br class="svelte-1fp2vc4"/>powered by redmen4772</p>',o(n,"width",e[4]),o(n,"height",e[4]),V(n,"margin","5vmin"),o(n,"class","svelte-1fp2vc4"),o(s,"width","1024"),o(s,"height","1024"),V(s,"display","none"),o(s,"class","svelte-1fp2vc4"),o(f,"width","1024"),o(f,"height","1024"),V(f,"display","none"),o(f,"class","svelte-1fp2vc4"),o(c,"class","input1 svelte-1fp2vc4"),o(c,"id","hair"),o(c,"name","hair"),o(c,"type","color"),o(h,"class","input2 svelte-1fp2vc4"),o(h,"type","text"),o(k,"for","hair"),o(k,"class","svelte-1fp2vc4"),o(U,"class","svelte-1fp2vc4"),o(v,"class","input3 svelte-1fp2vc4"),o(v,"type","range"),o(v,"id","eyes"),o(v,"name","eyes"),o(v,"min","0"),o(v,"max","1530"),o(R,"class","cView1 svelte-1fp2vc4"),V(R,"background-color",e[14](e[12](e[5])[0],e[12](e[5])[1],e[12](e[5])[2])),o(O,"for","eyes"),o(O,"class","svelte-1fp2vc4"),o(D,"class","svelte-1fp2vc4"),o(N,"class","refrish svelte-1fp2vc4"),o(r,"class","conturl svelte-1fp2vc4"),o(j,"class","svelte-1fp2vc4"),o(t,"class","display svelte-1fp2vc4")},m(m,I){z(m,t,I),d(t,n),e[15](n),d(t,a),d(t,s),e[16](s),d(t,p),d(t,f),e[17](f),d(t,u),d(t,r),d(r,c),B(c,e[0]),d(r,M),d(r,h),B(h,e[0]),d(r,E),d(r,k),d(r,L),d(r,U),d(r,Q),d(r,v),B(v,e[5]),d(r,A),d(r,R),d(r,H),d(r,O),d(r,P),d(r,D),d(r,X),d(r,N),d(r,Z),w&&w.m(r,null),d(t,x),d(t,j),e[24](t),W||(ee=[S(window,"resize",e[9]),S(c,"input",e[18]),S(c,"change",e[19]),S(h,"input",e[20]),S(h,"keyup",e[21]),S(v,"change",e[22]),S(v,"input",e[22]),S(v,"change",e[23]),S(N,"click",e[9])],W=!0)},p(m,I){I[0]&16&&o(n,"width",m[4]),I[0]&16&&o(n,"height",m[4]),I[0]&1&&B(c,m[0]),I[0]&1&&h.value!==m[0]&&B(h,m[0]),I[0]&32&&B(v,m[5]),I[0]&32&&V(R,"background-color",m[14](m[12](m[5])[0],m[12](m[5])[1],m[12](m[5])[2])),m[6]?w?w.p(m,I):(w=ue(m),w.c(),w.m(r,null)):w&&(w.d(1),w=null)},i:Y,o:Y,d(m){m&&T(t),e[15](null),e[16](null),e[17](null),w&&w.d(),e[24](null),W=!1,J(ee)}}}function Ne(e,t,n){let a,s,p,f,u="#FF0000",r=0,c,M,h="",E;Ie(async()=>{await L()});const k=async()=>{n(6,h=""),c=O(r),M=P(u);let l=a.getContext("2d");l.clearRect(0,0,1024,1024),await Q(l,1024,"#000000"),await A(l,1024,M),await R(l,1024,c,!0),await H(l,1024,"./base.png"),n(6,h=a.toDataURL("image/png").replace("image/png","application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=image.png"))},L=async()=>{n(6,h=""),c=O(r),M=P(u),U();let l=s.getContext("2d");l.clearRect(0,0,f,f),await H(l,f,"./base.png"),await A(l,f,M),await R(l,f,c,!1),await k()},U=async()=>{n(4,f=E.offsetHeight<E.offsetWidth?E.offsetHeight*.5:E.offsetWidth*.9)},Q=async(l,g,i)=>new Promise(b=>{l.fillStyle=i,l.fillRect(0,0,g,g),b()}),v=async(l,g,i,b,y)=>{if(b!=8){let $=p.getContext("2d");$.globalCompositeOperation="source-over",$.clearRect(0,0,1024,1024);let se=new Image;se.src=g[b].image,se.onload=async()=>{$.drawImage(se,0,0,1024,1024),$.globalCompositeOperation="source-in",$.fillStyle=g[b].color,$.fillRect(0,0,1024,1024),await H(l,i,p.toDataURL("image/png")),v(l,g,i,b+1,y)}}else y()},A=(l,g,i)=>new Promise(b=>{let y=p.getContext("2d");y.clearRect(0,0,1024,1024),y.globalCompositeOperation="source-over";let $=new Image;$.src="./hair.png",$.onload=async()=>{y.drawImage($,0,0,1024,1024),y.globalCompositeOperation="source-in",y.fillStyle=D(i[0],i[1],i[2]),y.fillRect(0,0,1024,1024),await H(l,g,p.toDataURL("image/png")),b()}}),R=async(l,g,i,b)=>new Promise(async y=>{let $=[{image:"./base.png",color:"rgba(0,0,0,0)"},{image:"./eye_t.png",color:`rgba(${i[0]!=0?.35294117647058826*i[0]:0},${i[1]!=0?.35294117647058826*i[1]:0},${i[2]!=0?.35294117647058826*i[2]:0})`},{image:"./eye_b.png",color:`rgba(${i[0]!=0?i[0]-40:0},${i[1]!=0?i[1]-40:0},${i[2]!=0?i[2]-40:0})`},{image:"./eye_vd.png",color:`rgba(${i[0]!=0?.35294117647058826*i[0]:0},${i[1]!=0?.35294117647058826*i[1]:0},${i[2]!=0?.35294117647058826*i[2]:0})`},{image:"./eye_d.png",color:`rgba(${i[0]!=0?i[0]-40:0},${i[1]!=0?i[1]-40:0},${i[2]!=0?i[2]-40:0})`},{image:"./eye_l.png",color:`rgba(${i[0]!=255?Math.floor(.4785714285714286*i[0]+130):255},${i[1]!=255?Math.floor(.4785714285714286*i[1]+130):255},${i[2]!=255?Math.floor(.4785714285714286*i[2]+130):255})`},{image:"./eye_h.png",color:`rgba(${i[0]!=255?Math.floor(.15*i[0]+219):255},${i[1]!=255?Math.floor(.15*i[1]+219):255},${i[2]!=255?Math.floor(.15*i[2]+219):255})`},{image:"./eye_lh.png",color:`rgba(${i[0]!=255?Math.floor(.25*i[0]+196):255},${i[1]!=255?Math.floor(.25*i[1]+196):255},${i[2]!=255?Math.floor(.25*i[2]+196):255})`}];await v(l,$,g,b?0:3,y)}),H=(l,g,i)=>new Promise(b=>{l.globalCompositeOperation="source-over";let y=new Image;y.src=i,y.onload=()=>{l.drawImage(y,0,0,g,g),b()}}),O=l=>{let g=[[255,0,0,2],[255,0,255,0],[0,0,255,1],[0,255,255,2],[0,255,0,0],[255,255,0,1],[255,0,0,2]][Math.floor(l/255)];return g[g[3]]+=g[g[3]]?-(l%255):l%255,g.slice(0,3)},P=l=>{let g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return g?[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]:[0,0,0]},D=(l,g,i)=>{const b=y=>{let $=y.toString(16);return $.length==1?"0"+$:$};return"#"+b(l)+b(g)+b(i)};function X(l){F[l?"unshift":"push"](()=>{s=l,n(2,s)})}function N(l){F[l?"unshift":"push"](()=>{a=l,n(1,a)})}function Z(l){F[l?"unshift":"push"](()=>{p=l,n(3,p)})}function x(){u=this.value,n(0,u)}const j=()=>{A(s.getContext("2d"),f,P(u)),k()};function W(){u=this.value,n(0,u)}const ee=()=>{A(s.getContext("2d"),f,P(u)),k()};function w(){r=Ce(this.value),n(5,r)}const m=()=>{R(s.getContext("2d"),f,O(r),!1),k()};function I(l){F[l?"unshift":"push"](()=>{E=l,n(7,E)})}return e.$$.update=()=>{e.$$.dirty[0]&1&&n(0,u=u.startsWith("#")?u.slice(0,7):"#")},[u,a,s,p,f,r,h,E,k,L,A,R,O,P,D,X,N,Z,x,j,W,ee,w,m,I]}class Te extends ve{constructor(t){super(),ye(this,t,Ne,He,pe,{},null,[-1,-1])}}function De(e){let t,n,a,s,p,f;return t=new Te({}),{c(){Ae(t.$$.fragment),n=C(),a=_("div"),s=C(),p=_("style"),p.textContent=`*{
        margin: 0;
        padding: 0;
    }`},m(u,r){me(t,u,r),z(u,n,r),z(u,a,r),z(u,s,r),d(document.head,p),f=!0},p:Y,i(u){f||(he(t.$$.fragment,u),f=!0)},o(u){Le(t.$$.fragment,u),f=!1},d(u){_e(t,u),u&&T(n),u&&T(a),u&&T(s),T(p)}}}class je extends ve{constructor(t){super(),ye(this,t,null,De,pe,{})}}new je({target:document.getElementById("app")});
