const ye=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};ye();function F(){}function ue(e){return e()}function se(){return Object.create(null)}function q(e){e.forEach(ue)}function we(e){return typeof e=="function"}function fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function be(e){return Object.keys(e).length===0}function p(e,t){e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function ce(e){return document.createTextNode(e)}function $(){return ce(" ")}function E(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ae(e){return e===""?null:+e}function ve(e){return Array.from(e.childNodes)}function J(e,t){e.value=t==null?"":t}function Q(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}let X;function $e(){if(X===void 0){X=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{X=!0}}return X}function Ce(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const s=y("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const r=$e();let a;return r?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=E(window,"message",c=>{c.source===s.contentWindow&&t()})):(s.src="about:blank",s.onload=()=>{a=E(s.contentWindow,"resize",t)}),p(e,s),()=>{(r||a&&s.contentWindow)&&a(),I(s)}}let V;function B(e){V=e}function Ee(){if(!V)throw new Error("Function called outside component initialization");return V}function ke(e){Ee().$$.on_mount.push(e)}const j=[],U=[],x=[],oe=[],Me=Promise.resolve();let re=!1;function Ie(){re||(re=!0,Me.then(de))}function te(e){x.push(e)}const ie=new Set;let Z=0;function de(){const e=V;do{for(;Z<j.length;){const t=j[Z];Z++,B(t),Oe(t.$$)}for(B(null),j.length=0,Z=0;U.length;)U.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];ie.has(n)||(ie.add(n),n())}x.length=0}while(j.length);for(;oe.length;)oe.pop()();re=!1,ie.clear(),B(e)}function Oe(e){if(e.fragment!==null){e.update(),q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}const ee=new Set;let Re;function pe(e,t){e&&e.i&&(ee.delete(e),e.i(t))}function Se(e,t,n,s){if(e&&e.o){if(ee.has(e))return;ee.add(e),Re.c.push(()=>{ee.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}const Ae=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Le(e){e&&e.c()}function ge(e,t,n,s){const{fragment:r,on_mount:a,on_destroy:c,after_update:u}=e.$$;r&&r.m(t,n),s||te(()=>{const m=a.map(ue).filter(we);c?c.push(...m):q(m),e.$$.on_mount=[]}),u.forEach(te)}function me(e,t){const n=e.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Te(e,t){e.$$.dirty[0]===-1&&(j.push(e),Ie(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,t,n,s,r,a,c,u=[-1]){const m=V;B(e);const d=e.$$={fragment:null,ctx:null,props:a,update:F,not_equal:r,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:se(),dirty:u,skip_bound:!1,root:t.target||m.$$.root};c&&c(d.root);let O=!1;if(d.ctx=n?n(e,t.props||{},(f,h,...R)=>{const C=R.length?R[0]:h;return d.ctx&&r(d.ctx[f],d.ctx[f]=C)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](C),O&&Te(e,f)),h}):[],d.update(),O=!0,q(d.before_update),d.fragment=s?s(d.ctx):!1,t.target){if(t.hydrate){const f=ve(t.target);d.fragment&&d.fragment.l(f),f.forEach(I)}else d.fragment&&d.fragment.c();t.intro&&pe(e.$$.fragment),ge(e,t.target,t.anchor,t.customElement),de()}B(m)}class _e{$destroy(){me(this,1),this.$destroy=F}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:We}=Ae;function le(e){let t,n,s,r;return{c(){t=y("a"),n=ce("Image Download"),l(t,"download","image.png"),l(t,"href",e[6]),l(t,"class","svelte-1br85ro")},m(a,c){T(a,t,c),p(t,n),s||(r=E(t,"click",e[17]),s=!0)},p(a,c){c&64&&l(t,"href",a[6])},d(a){a&&I(t),s=!1,r()}}}function Ne(e){let t,n,s,r,a,c,u,m,d,O,f,h,R,C,W,N,K,b,z,S,D,A,H,L,Y,P,G,w=e[7]&&le(e);return{c(){t=y("div"),s=$(),r=y("div"),a=y("canvas"),c=$(),u=y("canvas"),m=$(),d=y("canvas"),O=$(),f=y("div"),h=y("input"),R=$(),C=y("label"),C.textContent="HAIR",W=$(),N=y("br"),K=$(),b=y("input"),z=$(),S=y("label"),S.textContent="EYES",D=$(),A=y("br"),H=$(),L=y("button"),L.textContent="Image Refresh",Y=$(),w&&w.c(),Q(t,"width","90vmin"),l(t,"class","svelte-1br85ro"),te(()=>e[11].call(t)),l(a,"width",e[3]),l(a,"height",e[3]),Q(a,"margin","5vmin"),l(a,"class","svelte-1br85ro"),l(u,"width","1024"),l(u,"height","1024"),Q(u,"display","none"),l(u,"class","svelte-1br85ro"),l(d,"width","1024"),l(d,"height","1024"),Q(d,"display","none"),l(d,"class","svelte-1br85ro"),l(h,"type","range"),l(h,"id","hair"),l(h,"name","hair"),l(h,"min","0"),l(h,"max","1530"),l(h,"class","svelte-1br85ro"),l(C,"for","hair"),l(C,"class","svelte-1br85ro"),l(N,"class","svelte-1br85ro"),l(b,"type","range"),l(b,"id","eyes"),l(b,"name","eyes"),l(b,"min","0"),l(b,"max","1530"),l(b,"class","svelte-1br85ro"),l(S,"for","eyes"),l(S,"class","svelte-1br85ro"),l(A,"class","svelte-1br85ro"),l(L,"class","svelte-1br85ro"),l(f,"class","conturl svelte-1br85ro"),l(r,"class","display svelte-1br85ro")},m(_,k){T(_,t,k),n=Ce(t,e[11].bind(t)),T(_,s,k),T(_,r,k),p(r,a),e[12](a),p(r,c),p(r,u),e[13](u),p(r,m),p(r,d),e[14](d),p(r,O),p(r,f),p(f,h),J(h,e[4]),p(f,R),p(f,C),p(f,W),p(f,N),p(f,K),p(f,b),J(b,e[5]),p(f,z),p(f,S),p(f,D),p(f,A),p(f,H),p(f,L),p(f,Y),w&&w.m(f,null),P||(G=[E(We,"resize",e[9]),E(h,"change",e[15]),E(h,"input",e[15]),E(h,"change",e[10]),E(b,"change",e[16]),E(b,"input",e[16]),E(b,"change",e[10]),E(L,"click",e[10])],P=!0)},p(_,[k]){k&8&&l(a,"width",_[3]),k&8&&l(a,"height",_[3]),k&16&&J(h,_[4]),k&32&&J(b,_[5]),_[7]?w?w.p(_,k):(w=le(_),w.c(),w.m(f,null)):w&&(w.d(1),w=null)},i:F,o:F,d(_){_&&I(t),n(),_&&I(s),_&&I(r),e[12](null),e[13](null),e[14](null),w&&w.d(),P=!1,q(G)}}}function ze(e){return new Promise(t=>setTimeout(t,e))}function De(e,t,n){const s=location.href;let r,a,c,u,m=0,d=0,O,f,h,R=!1;ke(async()=>{await C(),await W()});const C=async()=>{n(3,u=window.innerHeight<window.innerWidth?window.innerHeight*.5:window.innerWidth*.9)},W=async()=>{O=H(d),f=H(m);let o=a.getContext("2d");o.clearRect(0,0,u,u),await K(o,u)},N=async()=>{let o=r.getContext("2d");o.clearRect(0,0,u,u),await b(o,1024,"#000000"),await z(o,1024,f),await S(o,1024,O),await A(o,"./base.png",1024),await ze(1e3),n(6,h=r.toDataURL("image/png").replace("image/png","application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=image.png")),n(7,R=!0)},K=async(o,g)=>{n(7,R=!1),await z(o,g,f),await S(o,g,O),await A(o,"./base.png",g),await N()},b=async(o,g,i)=>{o.fillStyle=i,o.fillRect(0,0,g,g)},z=async(o,g,i)=>{let v=c.getContext("2d"),M=new Image;M.src="./hair.png",M.onload=async()=>{v.drawImage(M,0,0,1024,1024),v.globalCompositeOperation="source-in",v.fillStyle=`rgba(${i[0]!=0?i[0]-40:0},${i[1]!=0?i[1]-40:0},${i[2]!=0?i[2]-40:0})`,v.fillRect(0,0,1024,1024),await A(o,c.toDataURL("image/png"),g)}},S=async(o,g,i)=>{let v=[{image:"./base.png",color:"rgba(0,0,0,0)"},{image:"./eye_t.png",color:`rgba(${i[0]!=0?.35294117647058826*i[0]:0},${i[1]!=0?.35294117647058826*i[1]:0},${i[2]!=0?.35294117647058826*i[2]:0})`},{image:"./eye_b.png",color:`rgba(${i[0]!=0?i[0]-40:0},${i[1]!=0?i[1]-40:0},${i[2]!=0?i[2]-40:0})`},{image:"./eye_vd.png",color:`rgba(${i[0]!=0?.35294117647058826*i[0]:0},${i[1]!=0?.35294117647058826*i[1]:0},${i[2]!=0?.35294117647058826*i[2]:0})`},{image:"./eye_d.png",color:`rgba(${i[0]!=0?i[0]-40:0},${i[1]!=0?i[1]-40:0},${i[2]!=0?i[2]-40:0})`},{image:"./eye_l.png",color:`rgba(${i[0]!=255?Math.floor(.4785714285714286*i[0]+130):255},${i[1]!=255?Math.floor(.4785714285714286*i[1]+130):255},${i[2]!=255?Math.floor(.4785714285714286*i[2]+130):255})`},{image:"./eye_h.png",color:`rgba(${i[0]!=255?Math.floor(.15*i[0]+219):255},${i[1]!=255?Math.floor(.15*i[1]+219):255},${i[2]!=255?Math.floor(.15*i[2]+219):255})`},{image:"./eye_lh.png",color:`rgba(${i[0]!=255?Math.floor(.25*i[0]+196):255},${i[1]!=255?Math.floor(.25*i[1]+196):255},${i[2]!=255?Math.floor(.25*i[2]+196):255})`}];D(o,v,g,0)},D=async(o,g,i,v)=>{if(v!=8){let M=c.getContext("2d");M.globalCompositeOperation="source-over",M.clearRect(0,0,1024,1024);let ne=new Image;ne.src=g[v].image,ne.onload=async()=>{M.drawImage(ne,0,0,1024,1024),M.globalCompositeOperation="source-in",M.fillStyle=g[v].color,M.fillRect(0,0,1024,1024),await A(o,c.toDataURL("image/png"),i),D(o,g,i,v+1)}}},A=async(o,g,i)=>{o.globalCompositeOperation="source-over";let v=new Image;v.src=g,v.onload=async()=>{o.drawImage(v,0,0,i,i)}},H=o=>{let g=[[255,0,0,2],[255,0,255,0],[0,0,255,1],[0,255,255,2],[0,255,0,0],[255,255,0,1],[255,0,0,2]][Math.floor(o/255)];return g[g[3]]+=g[g[3]]?-(o%255):o%255,g.slice(0,3)};function L(){u=this.clientWidth,n(3,u)}function Y(o){U[o?"unshift":"push"](()=>{a=o,n(1,a)})}function P(o){U[o?"unshift":"push"](()=>{r=o,n(0,r)})}function G(o){U[o?"unshift":"push"](()=>{c=o,n(2,c)})}function w(){m=ae(this.value),n(4,m)}function _(){d=ae(this.value),n(5,d)}return[r,a,c,u,m,d,h,R,s,C,W,L,Y,P,G,w,_,()=>{setTimeout(()=>location.href=s,1e3)}]}class He extends _e{constructor(t){super(),he(this,t,De,Ne,fe,{})}}function Pe(e){let t,n,s,r,a,c;return t=new He({}),{c(){Le(t.$$.fragment),n=$(),s=y("div"),r=$(),a=y("style"),a.textContent=`*{
        margin: 0;
        padding: 0;
    }`},m(u,m){ge(t,u,m),T(u,n,m),T(u,s,m),T(u,r,m),p(document.head,a),c=!0},p:F,i(u){c||(pe(t.$$.fragment,u),c=!0)},o(u){Se(t.$$.fragment,u),c=!1},d(u){me(t,u),u&&I(n),u&&I(s),u&&I(r),I(a)}}}class je extends _e{constructor(t){super(),he(this,t,null,Pe,fe,{})}}new je({target:document.getElementById("app")});
