const ye=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const p of s)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const p={};return s.integrity&&(p.integrity=s.integrity),s.referrerpolicy&&(p.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?p.credentials="include":s.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function l(s){if(s.ep)return;s.ep=!0;const p=n(s);fetch(s.href,p)}};ye();function K(){}function ue(e){return e()}function ae(){return Object.create(null)}function G(e){e.forEach(ue)}function we(e){return typeof e=="function"}function fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function be(e){return Object.keys(e).length===0}function g(e,t){e.appendChild(t)}function W(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode.removeChild(e)}function _(e){return document.createElement(e)}function ce(e){return document.createTextNode(e)}function $(){return ce(" ")}function M(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function o(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return e===""?null:+e}function $e(e){return Array.from(e.childNodes)}function H(e,t){e.value=t==null?"":t}function F(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}let Y;function V(e){Y=e}function Ce(){if(!Y)throw new Error("Function called outside component initialization");return Y}function ze(e){Ce().$$.on_mount.push(e)}const U=[],q=[],ee=[],le=[],ke=Promise.resolve();let re=!1;function Ee(){re||(re=!0,ke.then(de))}function se(e){ee.push(e)}const ie=new Set;let x=0;function de(){const e=Y;do{for(;x<U.length;){const t=U[x];x++,V(t),Ie(t.$$)}for(V(null),U.length=0,x=0;q.length;)q.pop()();for(let t=0;t<ee.length;t+=1){const n=ee[t];ie.has(n)||(ie.add(n),n())}ee.length=0}while(U.length);for(;le.length;)le.pop()();re=!1,ie.clear(),V(e)}function Ie(e){if(e.fragment!==null){e.update(),G(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}const te=new Set;let Me;function pe(e,t){e&&e.i&&(te.delete(e),e.i(t))}function Re(e,t,n,l){if(e&&e.o){if(te.has(e))return;te.add(e),Me.c.push(()=>{te.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const Oe=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Se(e){e&&e.c()}function ge(e,t,n,l){const{fragment:s,on_mount:p,on_destroy:f,after_update:c}=e.$$;s&&s.m(t,n),l||se(()=>{const a=p.map(ue).filter(we);f?f.push(...a):G(a),e.$$.on_mount=[]}),c.forEach(se)}function he(e,t){const n=e.$$;n.fragment!==null&&(G(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Le(e,t){e.$$.dirty[0]===-1&&(U.push(e),Ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function me(e,t,n,l,s,p,f,c=[-1]){const a=Y;V(e);const d=e.$$={fragment:null,ctx:null,props:p,update:K,not_equal:s,bound:ae(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:ae(),dirty:c,skip_bound:!1,root:t.target||a.$$.root};f&&f(d.root);let E=!1;if(d.ctx=n?n(e,t.props||{},(h,C,...z)=>{const R=z.length?z[0]:C;return d.ctx&&s(d.ctx[h],d.ctx[h]=R)&&(!d.skip_bound&&d.bound[h]&&d.bound[h](R),E&&Le(e,h)),C}):[],d.update(),E=!0,G(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const h=$e(t.target);d.fragment&&d.fragment.l(h),h.forEach(A)}else d.fragment&&d.fragment.c();t.intro&&pe(e.$$.fragment),ge(e,t.target,t.anchor,t.customElement),de()}V(a)}class _e{$destroy(){he(this,1),this.$destroy=K}$on(t,n){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!be(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const{window:Ae}=Oe;function oe(e){let t,n;return{c(){t=_("a"),n=ce("Image Download"),o(t,"target","_blank"),o(t,"class","download svelte-zeuc4f"),o(t,"download","image.png"),o(t,"href",e[6])},m(l,s){W(l,t,s),g(t,n)},p(l,s){s&64&&o(t,"href",l[6])},d(l){l&&A(t)}}}function Pe(e){let t,n,l,s,p,f,c,a,d,E,h,C,z,R,T,N,m,O,I,S,k,D,j,J,L,Q,X,P,B,Z,w=e[6]&&oe(e);return{c(){t=_("div"),n=_("canvas"),l=$(),s=_("canvas"),p=$(),f=_("canvas"),c=$(),a=_("div"),d=_("input"),E=$(),h=_("input"),C=$(),z=_("label"),z.textContent="HAIR",R=$(),T=_("br"),N=$(),m=_("input"),O=$(),I=_("div"),S=$(),k=_("label"),k.textContent="EYES",D=$(),j=_("br"),J=$(),L=_("p"),L.textContent="Image Refresh",Q=$(),w&&w.c(),X=$(),P=_("footer"),P.innerHTML='<p class="svelte-zeuc4f">Copyright 2022. redmen4772 All rights reserved<br class="svelte-zeuc4f"/>powered by redmen4772</p>',o(n,"width",e[4]),o(n,"height",e[4]),F(n,"margin","5vmin"),o(n,"class","svelte-zeuc4f"),o(s,"width","1024"),o(s,"height","1024"),F(s,"display","none"),o(s,"class","svelte-zeuc4f"),o(f,"width","1024"),o(f,"height","1024"),F(f,"display","none"),o(f,"class","svelte-zeuc4f"),o(d,"class","input1 svelte-zeuc4f"),o(d,"id","hair"),o(d,"name","hair"),o(d,"type","color"),o(h,"class","input2 svelte-zeuc4f"),o(h,"type","text"),o(z,"for","hair"),o(z,"class","svelte-zeuc4f"),o(T,"class","svelte-zeuc4f"),o(m,"class","input3 svelte-zeuc4f"),o(m,"type","range"),o(m,"id","eyes"),o(m,"name","eyes"),o(m,"min","0"),o(m,"max","1530"),o(I,"class","cView1 svelte-zeuc4f"),F(I,"background-color",e[13](e[11](e[5])[0],e[11](e[5])[1],e[11](e[5])[2])),o(k,"for","eyes"),o(k,"class","svelte-zeuc4f"),o(j,"class","svelte-zeuc4f"),o(L,"class","refrish svelte-zeuc4f"),o(a,"class","conturl svelte-zeuc4f"),o(P,"class","svelte-zeuc4f"),o(t,"class","display svelte-zeuc4f")},m(i,u){W(i,t,u),g(t,n),e[14](n),g(t,l),g(t,s),e[15](s),g(t,p),g(t,f),e[16](f),g(t,c),g(t,a),g(a,d),H(d,e[0]),g(a,E),g(a,h),H(h,e[0]),g(a,C),g(a,z),g(a,R),g(a,T),g(a,N),g(a,m),H(m,e[5]),g(a,O),g(a,I),g(a,S),g(a,k),g(a,D),g(a,j),g(a,J),g(a,L),g(a,Q),w&&w.m(a,null),g(t,X),g(t,P),B||(Z=[M(Ae,"resize",e[8]),M(d,"input",e[17]),M(d,"change",e[18]),M(h,"input",e[19]),M(h,"keyup",e[20]),M(m,"change",e[21]),M(m,"input",e[21]),M(m,"change",e[22]),M(L,"click",e[8])],B=!0)},p(i,[u]){u&16&&o(n,"width",i[4]),u&16&&o(n,"height",i[4]),u&1&&H(d,i[0]),u&1&&h.value!==i[0]&&H(h,i[0]),u&32&&H(m,i[5]),u&32&&F(I,"background-color",i[13](i[11](i[5])[0],i[11](i[5])[1],i[11](i[5])[2])),i[6]?w?w.p(i,u):(w=oe(i),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},i:K,o:K,d(i){i&&A(t),e[14](null),e[15](null),e[16](null),w&&w.d(),B=!1,G(Z)}}}function He(e,t,n){let l,s,p,f,c="#FF0000",a=0,d,E,h="";ze(async()=>{await z()});const C=async()=>{n(6,h=""),d=S(a),E=k(c);let i=l.getContext("2d");i.clearRect(0,0,1024,1024),await T(i,1024,"#000000"),await m(i,1024,E),await O(i,1024,d,!0),await I(i,1024,"./base.png"),n(6,h=l.toDataURL("image/png").replace("image/png","application/octet-stream;headers=Content-Disposition%3A%20attachment%3B%20filename=image.png"))},z=async()=>{n(6,h=""),d=S(a),E=k(c),R();let i=s.getContext("2d");i.clearRect(0,0,f,f),await I(i,f,"./base.png"),await m(i,f,E),await O(i,f,d,!1),await C()},R=async()=>{n(4,f=window.innerHeight<window.innerWidth?window.innerHeight*.5:window.innerWidth*.9)},T=async(i,u,r)=>new Promise(b=>{i.fillStyle=r,i.fillRect(0,0,u,u),b()}),N=async(i,u,r,b,y)=>{if(b!=8){let v=p.getContext("2d");v.globalCompositeOperation="source-over",v.clearRect(0,0,1024,1024);let ne=new Image;ne.src=u[b].image,ne.onload=async()=>{v.drawImage(ne,0,0,1024,1024),v.globalCompositeOperation="source-in",v.fillStyle=u[b].color,v.fillRect(0,0,1024,1024),await I(i,r,p.toDataURL("image/png")),N(i,u,r,b+1,y)}}else y()},m=(i,u,r)=>new Promise(b=>{let y=p.getContext("2d");y.clearRect(0,0,1024,1024),y.globalCompositeOperation="source-over";let v=new Image;v.src="./hair.png",v.onload=async()=>{y.drawImage(v,0,0,1024,1024),y.globalCompositeOperation="source-in",y.fillStyle=D(r[0],r[1],r[2]),y.fillRect(0,0,1024,1024),await I(i,u,p.toDataURL("image/png")),b()}}),O=async(i,u,r,b)=>new Promise(async y=>{let v=[{image:"./base.png",color:"rgba(0,0,0,0)"},{image:"./eye_t.png",color:`rgba(${r[0]!=0?.35294117647058826*r[0]:0},${r[1]!=0?.35294117647058826*r[1]:0},${r[2]!=0?.35294117647058826*r[2]:0})`},{image:"./eye_b.png",color:`rgba(${r[0]!=0?r[0]-40:0},${r[1]!=0?r[1]-40:0},${r[2]!=0?r[2]-40:0})`},{image:"./eye_vd.png",color:`rgba(${r[0]!=0?.35294117647058826*r[0]:0},${r[1]!=0?.35294117647058826*r[1]:0},${r[2]!=0?.35294117647058826*r[2]:0})`},{image:"./eye_d.png",color:`rgba(${r[0]!=0?r[0]-40:0},${r[1]!=0?r[1]-40:0},${r[2]!=0?r[2]-40:0})`},{image:"./eye_l.png",color:`rgba(${r[0]!=255?Math.floor(.4785714285714286*r[0]+130):255},${r[1]!=255?Math.floor(.4785714285714286*r[1]+130):255},${r[2]!=255?Math.floor(.4785714285714286*r[2]+130):255})`},{image:"./eye_h.png",color:`rgba(${r[0]!=255?Math.floor(.15*r[0]+219):255},${r[1]!=255?Math.floor(.15*r[1]+219):255},${r[2]!=255?Math.floor(.15*r[2]+219):255})`},{image:"./eye_lh.png",color:`rgba(${r[0]!=255?Math.floor(.25*r[0]+196):255},${r[1]!=255?Math.floor(.25*r[1]+196):255},${r[2]!=255?Math.floor(.25*r[2]+196):255})`}];await N(i,v,u,b?0:3,y)}),I=(i,u,r)=>new Promise(b=>{i.globalCompositeOperation="source-over";let y=new Image;y.src=r,y.onload=()=>{i.drawImage(y,0,0,u,u),b()}}),S=i=>{let u=[[255,0,0,2],[255,0,255,0],[0,0,255,1],[0,255,255,2],[0,255,0,0],[255,255,0,1],[255,0,0,2]][Math.floor(i/255)];return u[u[3]]+=u[u[3]]?-(i%255):i%255,u.slice(0,3)},k=i=>{let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return u?[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]:[0,0,0]},D=(i,u,r)=>{const b=y=>{let v=y.toString(16);return v.length==1?"0"+v:v};return"#"+b(i)+b(u)+b(r)};function j(i){q[i?"unshift":"push"](()=>{s=i,n(2,s)})}function J(i){q[i?"unshift":"push"](()=>{l=i,n(1,l)})}function L(i){q[i?"unshift":"push"](()=>{p=i,n(3,p)})}function Q(){c=this.value,n(0,c)}const X=()=>{m(s.getContext("2d"),f,k(c)),C()};function P(){c=this.value,n(0,c)}const B=()=>{m(s.getContext("2d"),f,k(c)),C()};function Z(){a=ve(this.value),n(5,a)}const w=()=>{O(s.getContext("2d"),f,S(a),!1),C()};return e.$$.update=()=>{e.$$.dirty&1&&n(0,c=c.startsWith("#")?c.slice(0,7):"#")},[c,l,s,p,f,a,h,C,z,m,O,S,k,D,j,J,L,Q,X,P,B,Z,w]}class Te extends _e{constructor(t){super(),me(this,t,He,Pe,fe,{})}}function Ne(e){let t,n,l,s,p,f;return t=new Te({}),{c(){Se(t.$$.fragment),n=$(),l=_("div"),s=$(),p=_("style"),p.textContent=`*{
        margin: 0;
        padding: 0;
    }`},m(c,a){ge(t,c,a),W(c,n,a),W(c,l,a),W(c,s,a),g(document.head,p),f=!0},p:K,i(c){f||(pe(t.$$.fragment,c),f=!0)},o(c){Re(t.$$.fragment,c),f=!1},d(c){he(t,c),c&&A(n),c&&A(l),c&&A(s),A(p)}}}class De extends _e{constructor(t){super(),me(this,t,null,Ne,fe,{})}}new De({target:document.getElementById("app")});
